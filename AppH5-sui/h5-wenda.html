<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta name="viewport"
          content="width=device-width, initial-scale=1, maximum-scale=1, minimum-scale=1, user-scalable=no, minimal-ui">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <meta name="theme-color" content="#242930">
    <title>金融问答</title>
    <link rel="stylesheet" href="css/sm.min.css">
    <link rel="stylesheet" href="css/sm-extend.min.css">

    <link rel="stylesheet" href="style/base.css"/>
    <link rel="stylesheet" href="style/global-icon.css"/>
    <link rel="stylesheet" href="style/nav-header.css"/>
    <link rel="stylesheet" href="style/media-list.css"/>
    <style>
        .main-content .card {
            margin: 0;
        }

        .media .media-body {
            padding: 0.15rem 0 0;
        }

        .sub-line-clamp {
            position: relative;
            overflow: hidden;
            text-overflow: ellipsis;
            -webkit-line-clamp: 4;
            -webkit-box-orient: vertical;
            display: -webkit-box;
        }

        .card-title {
            margin: 0 0.5rem 0.2rem;
            font-size: 0.9rem;
            font-weight: 500;
        }
    </style>
</head>
<body>
<div class="page">
    <header class="bar bar-nav main-bar">
        <a class="button button-link button-nav pull-left" href="#"><i class="global-icon header-back-icon"></i></a>
        <a class="button button-link button-nav pull-right header-menu-btn" href="javascript:;"><i
                class="global-icon header-menu-icon"></i></a>

        <h1 class="title">金融问答</h1>

        <div class="bar bar-tab sub-bar">
            <a class="tab-item active" href="#"><i class="global-icon header-rm-icon"></i>热门</a>
            <a class="tab-item" href="#"><i class="global-icon header-jx-icon"></i>精选</a>
            <a class="tab-item" href="#"><i class="global-icon header-all-icon"></i>全部</a>
        </div>
    </header>
    <nav class="bar bar-tab footer-menu">
        <div class="pl5 pr5 pt5">
            <div class="sub-bar text-center pb5">
                <a class="tab-item by-text-warning" href="#"><img class="menu-img" src="images/menu/footer-menu-4.png"/><span>首页</span></a>
                <a class="tab-item by-text-warning" href="#"><img class="menu-img" src="images/menu/footer-menu-3.png"/><span>发现</span></a>
                <a class="tab-item by-text-warning" href="#"><img class="menu-img" src="images/menu/footer-menu-2.png"/><span>消息</span></a>
                <a class="tab-item by-text-warning" href="#"><img class="menu-img" src="images/menu/footer-menu-1.png"/><span>我的</span></a>
            </div>
            <a class="btn title-padding text-center footer-cancel-btn" href="#">取消</a>
        </div>
    </nav>
    <div class="content infinite-scroll">
        <a class="fixed-btn" href="#"><img src="images/fixed-icon.png"/></a>
        <div class="main-content">
            <div data-distance="100">
                <div class="list-block no-margin">
                    <div class="list-container">
                        <div class="card">
                            <div class="card-content-box">
                                <div class="card-content pt5 pb5">
                                    <div class="card-content-inner">
                                        <p class="text-hidden card-title">如何系统地对股市进行学习？</p>

                                        <div class="media media-padding-left-right">
                                            <div class="media-left">
                                                <img class="media-img" width="45" height="45"
                                                     src="http://u1.youmeiwenzi.com/2013/05/20130508220753.jpg"/>

                                                <div class="text-center">
                                                    <a class="by-text-warning zan-btn" href="#"><i
                                                            class="global-icon content-zan-icon"></i><span>123</span></a>
                                                </div>
                                            </div>
                                            <div class="media-body">
                                                <div class="media-content">
                                                    <p class="sub-title sub-line-clamp no-margin">
                                                        晕扫地机爱是妒忌啊死哦大劫案送到家激动啊奇偶晕扫地机爱是妒忌啊死哦大劫案送到家激动啊奇偶晕扫地机爱是妒忌啊死哦大劫案送到家激动啊奇偶晕扫地机爱是妒忌啊死哦大劫案送到家激动啊奇偶晕扫地机爱是妒忌啊死哦大劫案送到家激动啊奇偶
                                                        asdasdsaasdasSD 萨达撒手大赛</p>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="card">
                            <div class="card-content-box">
                                <div class="card-content pt5 pb5">
                                    <div class="card-content-inner">
                                        <p class="text-hidden card-title">如何系统地对股市进行学习？</p>

                                        <div class="media media-padding-left-right">
                                            <div class="media-left">
                                                <img class="media-img" width="45" height="45"
                                                     src="http://u1.youmeiwenzi.com/2013/05/20130508220753.jpg"/>

                                                <div class="text-center">
                                                    <a class="by-text-warning zan-btn" href="#"><i
                                                            class="global-icon content-zan-icon"></i><span>123</span></a>
                                                </div>
                                            </div>
                                            <div class="media-body">
                                                <div class="media-content">
                                                    <p class="sub-title sub-line-clamp no-margin">晕扫地机爱是妒忌啊死哦大劫案送到家激动啊奇偶
                                                        asdasdsaasd晕扫地机爱是妒忌啊死哦大劫案送到家激动啊奇偶晕扫地机爱是妒忌啊死哦大劫案送到家激动啊奇偶晕扫地机爱是妒忌啊死哦大劫案送到家激动啊奇偶晕扫地机爱是妒忌啊死哦大劫案送到家激动啊奇偶晕扫地机爱是妒忌啊死哦大劫案送到家激动啊奇偶asSD
                                                        萨达撒手大赛</p>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <!-- 加载提示符 -->
            <div class="infinite-scroll-preloader">
                <div class="preloader"></div>
            </div>
        </div>
    </div>
</div>
<script type='text/javascript' src='js/zepto.min.js' charset='utf-8'></script>
<script type='text/javascript' src='js/sm.min.js' charset='utf-8'></script>
<script type='text/javascript' src='js/sm-extend.min.js' charset='utf-8'></script>
<script type='text/javascript' src='js/base.js' charset='utf-8'></script>
<script>
    $(function () {
        $(document).on("pageInit", function (e, id, page) {
            var loading = false;

            // 最多可加载的条目
            var maxItems = 100;
            // 每次加载添加多少条目
            var itemsPerLoad = 10;

            function addItems(number, lastIndex) {
                // 生成新条目的HTML
                var html = '';
                for (var i = lastIndex + 1; i <= lastIndex + number; i++) {
                    html += '<div class="card">'+
                            '    <div class="card-content-box">'+
                            '        <div class="card-content pt5 pb5">'+
                            '            <div class="card-content-inner">'+
                            '                <p class="text-hidden card-title">如何系统地对股市进行学习？</p>'+
                            '                <div class="media media-padding-left-right">'+
                            '                    <div class="media-left">'+
                            '                        <img class="media-img" width="45" height="45"'+
                            '                             src="http://u1.youmeiwenzi.com/2013/05/20130508220753.jpg"/>'+
                            '                        <div class="text-center">'+
                            '                            <a class="by-text-warning zan-btn" href="#"><i'+
                            '                                    class="global-icon content-zan-icon"></i><span>123</span></a>'+
                            '                        </div>'+
                            '                    </div>'+
                            '                    <div class="media-body">'+
                            '                        <div class="media-content">'+
                            '                            <p class="sub-title sub-line-clamp no-margin">'+
                            '                                晕扫地机爱是妒忌啊死哦大劫案送到家激动啊奇偶晕扫地机爱是妒忌啊死哦大劫案送到家激动啊奇偶晕扫地机爱是妒忌啊死哦大劫案送到家激动啊奇偶晕扫地机爱是妒忌啊死哦大劫案送到家激动啊奇偶晕扫地机爱是妒忌啊死哦大劫案送到家激动啊奇偶'+
                            '                                asdasdsaasdasSD 萨达撒手大赛</p>'+
                            '                        </div>'+
                            '                    </div>'+
                            '                </div>'+
                            '            </div>'+
                            '        </div>'+
                            '    </div>'+
                            '</div>';
                }
                // 添加新条目
                $('.list-container').append(html);
            }

            //预先加载20条
            addItems(itemsPerLoad, 0);
            // 上次加载的序号
            var lastIndex = 20;

            $('.content').on('infinite', function (e) {
                if (loading) return;
                loading = true;

                // 模拟1s的加载过程
                setTimeout(function () {
                    loading = false;
                    if (lastIndex >= maxItems) {
                        // 加载完毕，则注销无限加载事件，以防不必要的加载
                        $.detachInfiniteScroll($('.infinite-scroll'));
                        // 删除加载提示符
                        $('.infinite-scroll-preloader').remove();
                        return;
                    }
                    // 添加新条目
                    addItems(itemsPerLoad, lastIndex);
                    // 更新最后加载的序号
                    lastIndex = $('.list-container li').length;
                    //容器发生改变,如果是js滚动，需要刷新滚动
                    $.refreshScroller();
                }, 1000);
            });
        });
        $.init();
    })
</script>
</body>
</html>